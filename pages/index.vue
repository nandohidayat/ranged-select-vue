<template>
  <v-card
    max-height="400px"
    style="overflow-y: auto; overflow-x: auto; white-space: nowrap"
  >
    <div
      :style="{
        zIndex: 10,
        position: 'sticky',
        backgroundColor: 'white',
        left: 0,
        display: 'inline-block',
        borderTopRightRadius: 0,
        borderTopLeftRadius: 0
      }"
      class="shadow"
    >
      <div v-for="(s, i) in schedule" :key="i">
        <v-btn
          height="40"
          width="200"
          depressed
          small
          tile
          color="white"
          class="justify-start"
          @click="nameClick(i)"
        >
          <span class="d-inline-block text-truncate" style="max-width: 180px;">
            {{ schedule[i].name }}
          </span>
        </v-btn>
        <v-divider></v-divider>
      </div>
    </div>
    <div class="d-inline-block">
      <div v-for="(s, i) in schedule" :key="i">
        <span v-for="(h, j) in fHeader" :key="j">
          <v-btn
            height="40px"
            width="40px"
            rounded
            depressed
            small
            :color="active(j + 1, i) ? 'teal' : 'white'"
            :dark="active(j + 1, i)"
            @click="ranged(j + 1, i)"
            >{{ schedule[i][h] }}</v-btn
          >
        </span>
        <v-divider></v-divider>
      </div>
    </div>
  </v-card>
</template>

<script>
export default {
  layout: 'blank',
  data() {
    return {
      header: [
        'name',
        'day1',
        'day2',
        'day3',
        'day4',
        'day5',
        'day6',
        'day7',
        'day8',
        'day9',
        'day10',
        'day11',
        'day12',
        'day13',
        'day14',
        'day15',
        'day16',
        'day17',
        'day18',
        'day19',
        'day20',
        'day21',
        'day22',
        'day23',
        'day24',
        'day25',
        'day26',
        'day27',
        'day28',
        'day29',
        'day30'
      ],
      schedule1: [
        {
          name: 'Muhammad Nando Hidayat Muhammad Nando Hidayat',
          day1: 1,
          day2: 2,
          day3: 3,
          day4: 4,
          day5: 5,
          day6: 6,
          day7: 7,
          day8: 8,
          day9: 9,
          day10: 10,
          day11: 11,
          day12: 12,
          day13: 13,
          day14: 14,
          day15: 15,
          day16: 16,
          day17: 17,
          day18: 18,
          day19: 19,
          day20: 20,
          day21: 21,
          day22: 22,
          day23: 23,
          day24: 24,
          day25: 25,
          day26: 26,
          day27: 27,
          day28: 28,
          day29: 29,
          day30: 30
        },
        {
          name: 'Laksita Kusuma Wardhani',
          day1: 1,
          day2: 2,
          day3: 3,
          day4: 4,
          day5: 5,
          day6: 6,
          day7: 7,
          day8: 8,
          day9: 9,
          day10: 10,
          day11: 11,
          day12: 12,
          day13: 13,
          day14: 14,
          day15: 15,
          day16: 16,
          day17: 17,
          day18: 18,
          day19: 19,
          day20: 20,
          day21: 21,
          day22: 22,
          day23: 23,
          day24: 24,
          day25: 25,
          day26: 26,
          day27: 27,
          day28: 28,
          day29: 29,
          day30: 30
        },
        {
          name: 'Yulia Dini Hakiki',
          day1: 1,
          day2: 2,
          day3: 3,
          day4: 4,
          day5: 5,
          day6: 6,
          day7: 7,
          day8: 8,
          day9: 9,
          day10: 10,
          day11: 11,
          day12: 12,
          day13: 13,
          day14: 14,
          day15: 15,
          day16: 16,
          day17: 17,
          day18: 18,
          day19: 19,
          day20: 20,
          day21: 21,
          day22: 22,
          day23: 23,
          day24: 24,
          day25: 25,
          day26: 26,
          day27: 27,
          day28: 28,
          day29: 29,
          day30: 30
        },
        {
          name: 'Raissa Almira Rachmayanti',
          day1: 1,
          day2: 2,
          day3: 3,
          day4: 4,
          day5: 5,
          day6: 6,
          day7: 7,
          day8: 8,
          day9: 9,
          day10: 10,
          day11: 11,
          day12: 12,
          day13: 13,
          day14: 14,
          day15: 15,
          day16: 16,
          day17: 17,
          day18: 18,
          day19: 19,
          day20: 20,
          day21: 21,
          day22: 22,
          day23: 23,
          day24: 24,
          day25: 25,
          day26: 26,
          day27: 27,
          day28: 28,
          day29: 29,
          day30: 30
        },
        {
          name: 'Lidya Puji Astuti',
          day1: 1,
          day2: 2,
          day3: 3,
          day4: 4,
          day5: 5,
          day6: 6,
          day7: 7,
          day8: 8,
          day9: 9,
          day10: 10,
          day11: 11,
          day12: 12,
          day13: 13,
          day14: 14,
          day15: 15,
          day16: 16,
          day17: 17,
          day18: 18,
          day19: 19,
          day20: 20,
          day21: 21,
          day22: 22,
          day23: 23,
          day24: 24,
          day25: 25,
          day26: 26,
          day27: 27,
          day28: 28,
          day29: 29,
          day30: 30
        }
      ],
      schedule: [
        {
          name: 'Muhammad Nando Hidayat Muhammad Nando Hidayat',
          day1: 1,
          day2: 2,
          day3: 3,
          day4: 4,
          day5: 5,
          day6: 6,
          day7: 7,
          day8: 8,
          day9: 9,
          day10: 10,
          day11: 11,
          day12: 12,
          day13: 13,
          day14: 14,
          day15: 15,
          day16: 16,
          day17: 17,
          day18: 18,
          day19: 19,
          day20: 20,
          day21: 21,
          day22: 22,
          day23: 23,
          day24: 24,
          day25: 25,
          day26: 26,
          day27: 27,
          day28: 28,
          day29: 29,
          day30: 30
        },
        {
          name: 'Laksita Kusuma Wardhani',
          day1: 1,
          day2: 2,
          day3: 3,
          day4: 4,
          day5: 5,
          day6: 6,
          day7: 7,
          day8: 8,
          day9: 9,
          day10: 10,
          day11: 11,
          day12: 12,
          day13: 13,
          day14: 14,
          day15: 15,
          day16: 16,
          day17: 17,
          day18: 18,
          day19: 19,
          day20: 20,
          day21: 21,
          day22: 22,
          day23: 23,
          day24: 24,
          day25: 25,
          day26: 26,
          day27: 27,
          day28: 28,
          day29: 29,
          day30: 30
        },
        {
          name: 'Yulia Dini Hakiki',
          day1: 1,
          day2: 2,
          day3: 3,
          day4: 4,
          day5: 5,
          day6: 6,
          day7: 7,
          day8: 8,
          day9: 9,
          day10: 10,
          day11: 11,
          day12: 12,
          day13: 13,
          day14: 14,
          day15: 15,
          day16: 16,
          day17: 17,
          day18: 18,
          day19: 19,
          day20: 20,
          day21: 21,
          day22: 22,
          day23: 23,
          day24: 24,
          day25: 25,
          day26: 26,
          day27: 27,
          day28: 28,
          day29: 29,
          day30: 30
        },
        {
          name: 'Raissa Almira Rachmayanti',
          day1: 1,
          day2: 2,
          day3: 3,
          day4: 4,
          day5: 5,
          day6: 6,
          day7: 7,
          day8: 8,
          day9: 9,
          day10: 10,
          day11: 11,
          day12: 12,
          day13: 13,
          day14: 14,
          day15: 15,
          day16: 16,
          day17: 17,
          day18: 18,
          day19: 19,
          day20: 20,
          day21: 21,
          day22: 22,
          day23: 23,
          day24: 24,
          day25: 25,
          day26: 26,
          day27: 27,
          day28: 28,
          day29: 29,
          day30: 30
        },
        {
          name: 'Lidya Puji Astuti',
          day1: 1,
          day2: 2,
          day3: 3,
          day4: 4,
          day5: 5,
          day6: 6,
          day7: 7,
          day8: 8,
          day9: 9,
          day10: 10,
          day11: 11,
          day12: 12,
          day13: 13,
          day14: 14,
          day15: 15,
          day16: 16,
          day17: 17,
          day18: 18,
          day19: 19,
          day20: 20,
          day21: 21,
          day22: 22,
          day23: 23,
          day24: 24,
          day25: 25,
          day26: 26,
          day27: 27,
          day28: 28,
          day29: 29,
          day30: 30
        },
        {
          name: 'Muhammad Nando Hidayat Muhammad Nando Hidayat',
          day1: 1,
          day2: 2,
          day3: 3,
          day4: 4,
          day5: 5,
          day6: 6,
          day7: 7,
          day8: 8,
          day9: 9,
          day10: 10,
          day11: 11,
          day12: 12,
          day13: 13,
          day14: 14,
          day15: 15,
          day16: 16,
          day17: 17,
          day18: 18,
          day19: 19,
          day20: 20,
          day21: 21,
          day22: 22,
          day23: 23,
          day24: 24,
          day25: 25,
          day26: 26,
          day27: 27,
          day28: 28,
          day29: 29,
          day30: 30
        },
        {
          name: 'Laksita Kusuma Wardhani',
          day1: 1,
          day2: 2,
          day3: 3,
          day4: 4,
          day5: 5,
          day6: 6,
          day7: 7,
          day8: 8,
          day9: 9,
          day10: 10,
          day11: 11,
          day12: 12,
          day13: 13,
          day14: 14,
          day15: 15,
          day16: 16,
          day17: 17,
          day18: 18,
          day19: 19,
          day20: 20,
          day21: 21,
          day22: 22,
          day23: 23,
          day24: 24,
          day25: 25,
          day26: 26,
          day27: 27,
          day28: 28,
          day29: 29,
          day30: 30
        },
        {
          name: 'Yulia Dini Hakiki',
          day1: 1,
          day2: 2,
          day3: 3,
          day4: 4,
          day5: 5,
          day6: 6,
          day7: 7,
          day8: 8,
          day9: 9,
          day10: 10,
          day11: 11,
          day12: 12,
          day13: 13,
          day14: 14,
          day15: 15,
          day16: 16,
          day17: 17,
          day18: 18,
          day19: 19,
          day20: 20,
          day21: 21,
          day22: 22,
          day23: 23,
          day24: 24,
          day25: 25,
          day26: 26,
          day27: 27,
          day28: 28,
          day29: 29,
          day30: 30
        },
        {
          name: 'Raissa Almira Rachmayanti',
          day1: 1,
          day2: 2,
          day3: 3,
          day4: 4,
          day5: 5,
          day6: 6,
          day7: 7,
          day8: 8,
          day9: 9,
          day10: 10,
          day11: 11,
          day12: 12,
          day13: 13,
          day14: 14,
          day15: 15,
          day16: 16,
          day17: 17,
          day18: 18,
          day19: 19,
          day20: 20,
          day21: 21,
          day22: 22,
          day23: 23,
          day24: 24,
          day25: 25,
          day26: 26,
          day27: 27,
          day28: 28,
          day29: 29,
          day30: 30
        },
        {
          name: 'Lidya Puji Astuti',
          day1: 1,
          day2: 2,
          day3: 3,
          day4: 4,
          day5: 5,
          day6: 6,
          day7: 7,
          day8: 8,
          day9: 9,
          day10: 10,
          day11: 11,
          day12: 12,
          day13: 13,
          day14: 14,
          day15: 15,
          day16: 16,
          day17: 17,
          day18: 18,
          day19: 19,
          day20: 20,
          day21: 21,
          day22: 22,
          day23: 23,
          day24: 24,
          day25: 25,
          day26: 26,
          day27: 27,
          day28: 28,
          day29: 29,
          day30: 30
        },
        {
          name: 'Muhammad Nando Hidayat Muhammad Nando Hidayat',
          day1: 1,
          day2: 2,
          day3: 3,
          day4: 4,
          day5: 5,
          day6: 6,
          day7: 7,
          day8: 8,
          day9: 9,
          day10: 10,
          day11: 11,
          day12: 12,
          day13: 13,
          day14: 14,
          day15: 15,
          day16: 16,
          day17: 17,
          day18: 18,
          day19: 19,
          day20: 20,
          day21: 21,
          day22: 22,
          day23: 23,
          day24: 24,
          day25: 25,
          day26: 26,
          day27: 27,
          day28: 28,
          day29: 29,
          day30: 30
        },
        {
          name: 'Laksita Kusuma Wardhani',
          day1: 1,
          day2: 2,
          day3: 3,
          day4: 4,
          day5: 5,
          day6: 6,
          day7: 7,
          day8: 8,
          day9: 9,
          day10: 10,
          day11: 11,
          day12: 12,
          day13: 13,
          day14: 14,
          day15: 15,
          day16: 16,
          day17: 17,
          day18: 18,
          day19: 19,
          day20: 20,
          day21: 21,
          day22: 22,
          day23: 23,
          day24: 24,
          day25: 25,
          day26: 26,
          day27: 27,
          day28: 28,
          day29: 29,
          day30: 30
        },
        {
          name: 'Yulia Dini Hakiki',
          day1: 1,
          day2: 2,
          day3: 3,
          day4: 4,
          day5: 5,
          day6: 6,
          day7: 7,
          day8: 8,
          day9: 9,
          day10: 10,
          day11: 11,
          day12: 12,
          day13: 13,
          day14: 14,
          day15: 15,
          day16: 16,
          day17: 17,
          day18: 18,
          day19: 19,
          day20: 20,
          day21: 21,
          day22: 22,
          day23: 23,
          day24: 24,
          day25: 25,
          day26: 26,
          day27: 27,
          day28: 28,
          day29: 29,
          day30: 30
        },
        {
          name: 'Raissa Almira Rachmayanti',
          day1: 1,
          day2: 2,
          day3: 3,
          day4: 4,
          day5: 5,
          day6: 6,
          day7: 7,
          day8: 8,
          day9: 9,
          day10: 10,
          day11: 11,
          day12: 12,
          day13: 13,
          day14: 14,
          day15: 15,
          day16: 16,
          day17: 17,
          day18: 18,
          day19: 19,
          day20: 20,
          day21: 21,
          day22: 22,
          day23: 23,
          day24: 24,
          day25: 25,
          day26: 26,
          day27: 27,
          day28: 28,
          day29: 29,
          day30: 30
        },
        {
          name: 'Lidya Puji Astuti',
          day1: 1,
          day2: 2,
          day3: 3,
          day4: 4,
          day5: 5,
          day6: 6,
          day7: 7,
          day8: 8,
          day9: 9,
          day10: 10,
          day11: 11,
          day12: 12,
          day13: 13,
          day14: 14,
          day15: 15,
          day16: 16,
          day17: 17,
          day18: 18,
          day19: 19,
          day20: 20,
          day21: 21,
          day22: 22,
          day23: 23,
          day24: 24,
          day25: 25,
          day26: 26,
          day27: 27,
          day28: 28,
          day29: 29,
          day30: 30
        },
        {
          name: 'Muhammad Nando Hidayat Muhammad Nando Hidayat',
          day1: 1,
          day2: 2,
          day3: 3,
          day4: 4,
          day5: 5,
          day6: 6,
          day7: 7,
          day8: 8,
          day9: 9,
          day10: 10,
          day11: 11,
          day12: 12,
          day13: 13,
          day14: 14,
          day15: 15,
          day16: 16,
          day17: 17,
          day18: 18,
          day19: 19,
          day20: 20,
          day21: 21,
          day22: 22,
          day23: 23,
          day24: 24,
          day25: 25,
          day26: 26,
          day27: 27,
          day28: 28,
          day29: 29,
          day30: 30
        },
        {
          name: 'Laksita Kusuma Wardhani',
          day1: 1,
          day2: 2,
          day3: 3,
          day4: 4,
          day5: 5,
          day6: 6,
          day7: 7,
          day8: 8,
          day9: 9,
          day10: 10,
          day11: 11,
          day12: 12,
          day13: 13,
          day14: 14,
          day15: 15,
          day16: 16,
          day17: 17,
          day18: 18,
          day19: 19,
          day20: 20,
          day21: 21,
          day22: 22,
          day23: 23,
          day24: 24,
          day25: 25,
          day26: 26,
          day27: 27,
          day28: 28,
          day29: 29,
          day30: 30
        },
        {
          name: 'Yulia Dini Hakiki',
          day1: 1,
          day2: 2,
          day3: 3,
          day4: 4,
          day5: 5,
          day6: 6,
          day7: 7,
          day8: 8,
          day9: 9,
          day10: 10,
          day11: 11,
          day12: 12,
          day13: 13,
          day14: 14,
          day15: 15,
          day16: 16,
          day17: 17,
          day18: 18,
          day19: 19,
          day20: 20,
          day21: 21,
          day22: 22,
          day23: 23,
          day24: 24,
          day25: 25,
          day26: 26,
          day27: 27,
          day28: 28,
          day29: 29,
          day30: 30
        },
        {
          name: 'Raissa Almira Rachmayanti',
          day1: 1,
          day2: 2,
          day3: 3,
          day4: 4,
          day5: 5,
          day6: 6,
          day7: 7,
          day8: 8,
          day9: 9,
          day10: 10,
          day11: 11,
          day12: 12,
          day13: 13,
          day14: 14,
          day15: 15,
          day16: 16,
          day17: 17,
          day18: 18,
          day19: 19,
          day20: 20,
          day21: 21,
          day22: 22,
          day23: 23,
          day24: 24,
          day25: 25,
          day26: 26,
          day27: 27,
          day28: 28,
          day29: 29,
          day30: 30
        },
        {
          name: 'Lidya Puji Astuti',
          day1: 1,
          day2: 2,
          day3: 3,
          day4: 4,
          day5: 5,
          day6: 6,
          day7: 7,
          day8: 8,
          day9: 9,
          day10: 10,
          day11: 11,
          day12: 12,
          day13: 13,
          day14: 14,
          day15: 15,
          day16: 16,
          day17: 17,
          day18: 18,
          day19: 19,
          day20: 20,
          day21: 21,
          day22: 22,
          day23: 23,
          day24: 24,
          day25: 25,
          day26: 26,
          day27: 27,
          day28: 28,
          day29: 29,
          day30: 30
        }
      ],
      day: [],
      staff: undefined,
      left: 0
    }
  },
  computed: {
    fHeader() {
      return this.header.filter((h) => h !== 'name')
    }
  },
  methods: {
    ranged(day, staff) {
      if (
        this.day.length === 0 ||
        this.day.length === 2 ||
        this.staff !== staff
      ) {
        this.staff = staff
        this.day = [day]
      } else if (this.day[0] < day) {
        this.day.push(day)
      } else if (this.day[0] > day) {
        this.day.unshift(day)
      } else {
        this.staff = undefined
        this.day = []
      }
    },
    active(day, staff) {
      if (
        this.staff === staff &&
        (day === this.day[0] || (day > this.day[0] && day <= this.day[1]))
      ) {
        return true
      }
      return false
    },
    nameClick(staff) {
      if (this.staff !== undefined && this.staff === staff) {
        this.day = []
        this.staff = undefined
      } else {
        this.staff = staff
        this.day = [1, this.header.length - 1]
      }
    }
  }
}
</script>

<style scoped>
.shadow {
  -webkit-box-shadow: 4px 0px 5px 0px rgba(0, 0, 0, 0.27);
  -moz-box-shadow: 4px 0px 5px 0px rgba(0, 0, 0, 0.27);
  box-shadow: 4px 0px 5px 0px rgba(0, 0, 0, 0.27);
}
</style>
